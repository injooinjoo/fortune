import 'dart:convert';
import 'dart:math';
import 'package:shared_preferences/shared_preferences.dart';
import '../../models/fortune_result.dart';
import '../../utils/logger.dart';

/// í¬ì¶˜ ì¿ í‚¤ ìš´ì„¸ ìƒì„±ê¸°
///
/// ë¡œì»¬ ë°ì´í„° ì†ŒìŠ¤ë¡œ í¬ì¶˜ ì¿ í‚¤ ë©”ì‹œì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
/// - 5ê°€ì§€ ì¿ í‚¤ íƒ€ì…: love, wealth, health, wisdom, luck
/// - 100ê°œ ë©”ì‹œì§€ í’€ (ê° íƒ€ì… 20ê°œ)
/// - ì¼ì¼ ì €ì¥: í•˜ë£¨ì— í•œ ë²ˆ ë½‘ì€ ë©”ì‹œì§€ë¥¼ ì €ì¥í•˜ì—¬ ì¬ì‚¬ìš©
class FortuneCookieGenerator {
  static final Random _random = Random();
  static const String _storageKey = 'fortune_cookie_daily';

  /// ì˜¤ëŠ˜ì˜ í¬ì¶˜ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸° (ì¼ì¼ ì €ì¥ ì ìš©)
  ///
  /// - ì˜¤ëŠ˜ ì´ë¯¸ ë½‘ì€ ì¿ í‚¤ê°€ ìˆìœ¼ë©´ ì €ì¥ëœ ê²°ê³¼ ë°˜í™˜
  /// - ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„± í›„ ì €ì¥
  static Future<FortuneResult> getTodayFortuneCookie() async {
    final prefs = await SharedPreferences.getInstance();
    final today = DateTime.now().toIso8601String().split('T')[0]; // yyyy-MM-dd

    // ì˜¤ëŠ˜ ì €ì¥ëœ ì¿ í‚¤ í™•ì¸
    final savedData = prefs.getString(_storageKey);
    if (savedData != null) {
      try {
        final json = jsonDecode(savedData) as Map<String, dynamic>;
        if (json['date'] == today && json['result'] != null) {
          Logger.info('[FortuneCookieGenerator] ğŸª ì˜¤ëŠ˜ ì €ì¥ëœ ì¿ í‚¤ ë°˜í™˜');
          return FortuneResult.fromJson(json['result'] as Map<String, dynamic>);
        }
      } catch (e) {
        Logger.warning('[FortuneCookieGenerator] ì €ì¥ëœ ë°ì´í„° íŒŒì‹± ì‹¤íŒ¨: $e');
      }
    }

    // ìƒˆë¡œ ìƒì„± (ëœë¤ íƒ€ì…)
    final types = ['love', 'wealth', 'health', 'wisdom', 'luck'];
    final randomType = types[_random.nextInt(types.length)];
    final result = await generate({'cookie_type': randomType});

    // ì €ì¥
    await prefs.setString(_storageKey, jsonEncode({
      'date': today,
      'result': result.toJson(),
    }));

    Logger.info('[FortuneCookieGenerator] ğŸª ìƒˆ ì¿ í‚¤ ìƒì„± ë° ì €ì¥ ì™„ë£Œ');
    return result;
  }

  /// í¬ì¶˜ ì¿ í‚¤ ìš´ì„¸ ìƒì„±
  ///
  /// **input_conditions í˜•ì‹**:
  /// ```json
  /// {
  ///   "cookie_type": "love"  // love, wealth, health, wisdom, luck
  /// }
  /// ```
  static Future<FortuneResult> generate(
    Map<String, dynamic> inputConditions,
  ) async {
    final cookieType = inputConditions['cookie_type'] as String? ?? 'luck';

    // ğŸ“¤ ë¡œì»¬ ìƒì„± ì‹œì‘
    Logger.info('[FortuneCookieGenerator] ğŸª í¬ì¶˜ì¿ í‚¤ ìƒì„± ì‹œì‘');
    Logger.info('[FortuneCookieGenerator]   ğŸ² cookie_type: $cookieType');

    // ì¿ í‚¤ íƒ€ì…ë³„ ë©”ì‹œì§€ í’€
    final messages = _getMessagesByType(cookieType);
    Logger.info('[FortuneCookieGenerator]   ğŸ“š ë©”ì‹œì§€ í’€ í¬ê¸°: ${messages.length}ê°œ');

    final message = _generateMessage(cookieType);
    final luckyNumber = _generateLuckyNumber();
    final luckyColor = _generateLuckyColor();
    final score = _random.nextInt(30) + 70;

    Logger.info('[FortuneCookieGenerator] âœ… í¬ì¶˜ì¿ í‚¤ ìƒì„± ì™„ë£Œ');
    Logger.info('[FortuneCookieGenerator]   ğŸ’¬ ë©”ì‹œì§€: $message');
    Logger.info('[FortuneCookieGenerator]   ğŸ¯ í–‰ìš´ì˜ ìˆ«ì: $luckyNumber');
    Logger.info('[FortuneCookieGenerator]   ğŸ¨ í–‰ìš´ì˜ ìƒ‰ìƒ: $luckyColor');
    Logger.info('[FortuneCookieGenerator]   â­ ì ìˆ˜: $score');

    return FortuneResult(
      type: 'fortune_cookie',
      title: 'í¬ì¶˜ ì¿ í‚¤',
      summary: {
        'message': message,
        'cookie_type': cookieType,
        'lucky_number': luckyNumber,
        'lucky_color': luckyColor,
      },
      data: {
        'message': message,
        'cookie_type': cookieType,
        'lucky_number': luckyNumber,
        'lucky_color': luckyColor,
        'emoji': _getCookieEmoji(cookieType),
      },
      score: score,
      createdAt: DateTime.now(),
    );
  }

  /// ì¿ í‚¤ íƒ€ì…ë³„ ë©”ì‹œì§€ ìƒì„±
  static String _generateMessage(String cookieType) {
    final messages = _getMessagesByType(cookieType);
    return messages[_random.nextInt(messages.length)];
  }

  /// ì¿ í‚¤ íƒ€ì…ë³„ ë©”ì‹œì§€ í’€ (ê° íƒ€ì… 20ê°œ, ì´ 100ê°œ)
  static List<String> _getMessagesByType(String cookieType) {
    switch (cookieType) {
      case 'love':
        return _loveMessages;
      case 'wealth':
        return _wealthMessages;
      case 'health':
        return _healthMessages;
      case 'wisdom':
        return _wisdomMessages;
      case 'luck':
      default:
        return _luckMessages;
    }
  }

  // ============================================================
  // ì‚¬ë‘ ë©”ì‹œì§€ (20ê°œ)
  // ============================================================
  static const _loveMessages = [
    'ì‚¬ë‘ì€ ê¸°ë‹¤ë¦¬ëŠ” ìì—ê²Œ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì§„ì‹¤í•œ ë§ˆìŒì€ ì–¸ì œë‚˜ í†µí•©ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ ë§Œë‚˜ëŠ” ì‚¬ëŒì´ íŠ¹ë³„í•œ ì¸ì—°ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
    'ì‚¬ë‘ì€ ê°€ê¹Œìš´ ê³³ì— ìˆìŠµë‹ˆë‹¤',
    'ë§ˆìŒì„ ì—´ë©´ ìƒˆë¡œìš´ ë§Œë‚¨ì´ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì§„ì‹¬ì€ ì‹œê°„ì´ ì§€ë‚˜ë„ ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
    'ì‚¬ë‘ì€ ìš©ê¸°ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤',
    'ë”°ëœ»í•œ ë§ í•œë§ˆë””ê°€ ë§ˆìŒì„ ë…¹ì…ë‹ˆë‹¤',
    'ì¸ì—°ì€ ìš°ì—°ì²˜ëŸ¼ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ìƒëŒ€ë°©ì˜ ì‘ì€ ë°°ë ¤ì— ê°ì‚¬í•˜ì„¸ìš”',
    'ì˜¤ëŠ˜ í‘œí˜„í•œ ì‚¬ë‘ì´ ë‚´ì¼ì˜ í–‰ë³µì´ ë©ë‹ˆë‹¤',
    'ì§„ì •í•œ ì‚¬ë‘ì€ ì¡°ê±´ì´ ì—†ìŠµë‹ˆë‹¤',
    'í•¨ê»˜í•˜ëŠ” ì‹œê°„ì´ ê°€ì¥ í° ì„ ë¬¼ì…ë‹ˆë‹¤',
    'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì—ê²Œ ë¨¼ì € ì†ì„ ë‚´ë°€ì–´ ë³´ì„¸ìš”',
    'ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ ì‚¬ë‘ì„ í‚¤ì›ë‹ˆë‹¤',
    'ì˜¤ë˜ëœ ì¹œêµ¬ì—ê²Œì„œ ë°˜ê°€ìš´ ì—°ë½ì´ ì˜¬ ê²ƒì…ë‹ˆë‹¤',
    'ë‹¹ì‹ ì˜ ë§¤ë ¥ì´ ë¹›ë‚˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤',
    'ì‚¬ë‘ì€ ì™„ë²½í•¨ì´ ì•„ë‹Œ ì´í•´ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤',
    'ë§ˆìŒì„ ë‹´ì€ ì‘ì€ ì„ ë¬¼ì´ í° ê°ë™ì„ ì¤ë‹ˆë‹¤',
    'ì¸ì—°ì˜ ëˆì€ ë³´ì´ì§€ ì•Šì•„ë„ ì´ì–´ì ¸ ìˆìŠµë‹ˆë‹¤',
  ];

  // ============================================================
  // ì¬ë¬¼ ë©”ì‹œì§€ (20ê°œ)
  // ============================================================
  static const _wealthMessages = [
    'ì‘ì€ ì ˆì•½ì´ í° ë¶€ë¥¼ ë§Œë“­ë‹ˆë‹¤',
    'ê¸°íšŒëŠ” ì¤€ë¹„ëœ ìì—ê²Œ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ íˆ¬ìê°€ ë¯¸ë˜ì˜ ì¬ì‚°ì…ë‹ˆë‹¤',
    'ì§€í˜œë¡œìš´ ì†Œë¹„ê°€ ë¶€ë¥¼ ë¶€ë¦…ë‹ˆë‹¤',
    'ë…¸ë ¥ì€ ë°˜ë“œì‹œ ê²°ì‹¤ì„ ë§ºìŠµë‹ˆë‹¤',
    'ì¢‹ì€ ì¸ì—°ì´ ì¬ë¬¼ì„ ë¶€ë¦…ë‹ˆë‹¤',
    'ë‚˜ëˆ”ì´ ë” í° í’ìš”ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤',
    'ì¬ë¬¼ìš´ì´ ì¢‹ì•„ì§€ê³  ìˆìŠµë‹ˆë‹¤',
    'ì˜ˆìƒì¹˜ ëª»í•œ ê³³ì—ì„œ í–‰ìš´ì´ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì‘ì€ ì„±ê³µì´ í° ë¶€ì˜ ì”¨ì•—ì…ë‹ˆë‹¤',
    'ë‹¹ì‹ ì˜ ê°€ì¹˜ë¥¼ ì¸ì •ë°›ì„ ë•Œê°€ ì™”ìŠµë‹ˆë‹¤',
    'ëˆë³´ë‹¤ ì‹ ë¢°ê°€ ë” í° ì¬ì‚°ì…ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ê²°ì •ì´ ë¯¸ë˜ë¥¼ ë°”ê¿‰ë‹ˆë‹¤',
    'ì ˆì•½ì€ ë²„ëŠ” ê²ƒë³´ë‹¤ ê°•í•©ë‹ˆë‹¤',
    'í’ìš”ë¡œì›€ì€ ê°ì‚¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤',
    'ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ê³§ ë¹›ì„ ë°œí•  ê²ƒì…ë‹ˆë‹¤',
    'ì‘ì€ íˆ¬ìê°€ í° ê²°ì‹¤ì„ ë§ºì„ ì‹œê¸°ì…ë‹ˆë‹¤',
    'ê¸ˆì „ì  ê³ ë¯¼ì´ í•´ê²°ë  ì¡°ì§ì´ ë³´ì…ë‹ˆë‹¤',
    'ìƒˆë¡œìš´ ìˆ˜ì…ì›ì´ ì—´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
    'í˜„ëª…í•œ ì„ íƒì´ ë¶€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤',
  ];

  // ============================================================
  // ê±´ê°• ë©”ì‹œì§€ (20ê°œ)
  // ============================================================
  static const _healthMessages = [
    'ê±´ê°•ì€ ê°€ì¥ í° ì¬ì‚°ì…ë‹ˆë‹¤',
    'ê·œì¹™ì ì¸ ìƒí™œì´ ê±´ê°•ì„ ì§€í‚µë‹ˆë‹¤',
    'ë§ˆìŒì˜ í‰í™”ê°€ ëª¸ì˜ ê±´ê°•ì„ ë§Œë“­ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ìš´ë™ì´ ë‚´ì¼ì˜ í™œë ¥ì…ë‹ˆë‹¤',
    'ì¶©ë¶„í•œ íœ´ì‹ì´ ìµœê³ ì˜ ë³´ì•½ì…ë‹ˆë‹¤',
    'ê¸ì •ì ì¸ ë§ˆìŒì´ ê±´ê°•ì„ ë¶€ë¦…ë‹ˆë‹¤',
    'ìì—°ê³¼ í•¨ê»˜í•˜ë©´ ê±´ê°•í•´ì§‘ë‹ˆë‹¤',
    'ë¬¼ì„ ìì£¼ ë§ˆì‹œë©´ ëª¸ì´ ë§‘ì•„ì§‘ë‹ˆë‹¤',
    'ì‘ì€ ì‚°ì±…ì´ í° íë§ì´ ë©ë‹ˆë‹¤',
    'ê¹Šì€ ìˆ¨ì„ ì‰¬ë©° ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë‚ ë ¤ë³´ì„¸ìš”',
    'ì˜¤ëŠ˜ í•˜ë£¨ ìì‹ ì„ ìœ„í•œ ì‹œê°„ì„ ê°€ì§€ì„¸ìš”',
    'ê±´ê°•í•œ ìŒì‹ì´ ê±´ê°•í•œ ëª¸ì„ ë§Œë“­ë‹ˆë‹¤',
    'ì›ƒìŒì€ ë©´ì—­ë ¥ì„ ë†’ì…ë‹ˆë‹¤',
    'ì ë‹¹í•œ íœ´ì‹ì´ íš¨ìœ¨ì„ ë†’ì…ë‹ˆë‹¤',
    'ëª¸ì´ ë³´ë‚´ëŠ” ì‹ í˜¸ì— ê·€ ê¸°ìš¸ì´ì„¸ìš”',
    'ê°€ë²¼ìš´ ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ í•˜ë£¨ë¥¼ ì‹œì‘í•˜ì„¸ìš”',
    'ìˆ™ë©´ì´ ìµœê³ ì˜ ê±´ê°• ë¹„ê²°ì…ë‹ˆë‹¤',
    'ë§ˆìŒì˜ ì—¬ìœ ê°€ ëª¸ì˜ ê±´ê°•ì„ ì§€í‚µë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ê±´ê°•ì´ ë‚´ì¼ì˜ í–‰ë³µì…ë‹ˆë‹¤',
    'ì‘ì€ ìŠµê´€ì´ í° ê±´ê°•ì„ ë§Œë“­ë‹ˆë‹¤',
  ];

  // ============================================================
  // ì§€í˜œ ë©”ì‹œì§€ (20ê°œ)
  // ============================================================
  static const _wisdomMessages = [
    'ê²½í—˜ì€ ê°€ì¥ í›Œë¥­í•œ ìŠ¤ìŠ¹ì…ë‹ˆë‹¤',
    'ë°°ì›€ì—ëŠ” ëì´ ì—†ìŠµë‹ˆë‹¤',
    'ì‹¤ìˆ˜ëŠ” ì„±ì¥ì˜ ê¸°íšŒì…ë‹ˆë‹¤',
    'ê²¸ì†ì´ ì§„ì •í•œ ì§€í˜œì…ë‹ˆë‹¤',
    'ê²½ì²­ì€ ì§€í˜œì˜ ì‹œì‘ì…ë‹ˆë‹¤',
    'ì±… ì†ì— ê¸¸ì´ ìˆìŠµë‹ˆë‹¤',
    'ì§ˆë¬¸ì´ ë‹µì„ ë§Œë“­ë‹ˆë‹¤',
    'ì§€ê¸ˆ ì´ ìˆœê°„ì— ì§‘ì¤‘í•˜ì„¸ìš”',
    'ì‘ì€ ê¹¨ë‹¬ìŒì´ í° ë³€í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤',
    'ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”',
    'ë‹¤ë¥¸ ì‚¬ëŒì˜ ê´€ì ì—ì„œ ìƒê°í•´ ë³´ì„¸ìš”',
    'ì¸ë‚´ëŠ” ëª¨ë“  ê²ƒì„ ì´ê¹ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ ë°°ìš´ ê²ƒì´ ë‚´ì¼ì˜ ë‚˜ë¥¼ ë§Œë“­ë‹ˆë‹¤',
    'ì§€í˜œëŠ” ê²½í—˜ì—ì„œ ì˜µë‹ˆë‹¤',
    'ì¹¨ë¬µ ì†ì— ê¹Šì€ ëœ»ì´ ìˆìŠµë‹ˆë‹¤',
    'ì„œë‘ë¥´ì§€ ë§ˆì„¸ìš”, ë•Œê°€ ë˜ë©´ ëª¨ë“  ê²ƒì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ì‹¤íŒ¨ëŠ” ë‚´ì¼ì˜ ì„±ê³µì„ ìœ„í•œ ì¤€ë¹„ì…ë‹ˆë‹¤',
    'ë©ˆì¶¤ì´ í•„ìš”í•  ë•Œë„ ìˆìŠµë‹ˆë‹¤',
    'ì‘ì€ ê²ƒì—ì„œ í° ì˜ë¯¸ë¥¼ ì°¾ìœ¼ì„¸ìš”',
    'í˜„ëª…í•œ ìëŠ” ë§ë³´ë‹¤ í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤',
  ];

  // ============================================================
  // í–‰ìš´ ë©”ì‹œì§€ (20ê°œ)
  // ============================================================
  static const _luckMessages = [
    'í–‰ìš´ì€ ì¤€ë¹„ëœ ìì—ê²Œ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì€ íŠ¹ë³„í•œ ë‚ ì´ ë  ê²ƒì…ë‹ˆë‹¤',
    'ê¸ì •ì ì¸ íƒœë„ê°€ í–‰ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤',
    'ì‘ì€ í–‰ìš´ì´ í° ê¸°ì¨ì„ ì¤ë‹ˆë‹¤',
    'ë¯¸ì†Œê°€ í–‰ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ì„ íƒì´ ë‚´ì¼ì˜ í–‰ìš´ì…ë‹ˆë‹¤',
    'ì¢‹ì€ ì¼ì€ í•­ìƒ ì—°ì†ë©ë‹ˆë‹¤',
    'ë‹¹ì‹ ì—ê²Œ í–‰ìš´ì˜ ê¸°ìš´ì´ ê°ëŒê³  ìˆìŠµë‹ˆë‹¤',
    'ì˜¤ëŠ˜ ì‹œì‘í•˜ë©´ ì¢‹ì€ ê²°ê³¼ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤',
    'ëœ»ë°–ì˜ í–‰ìš´ì´ ë‹¹ì‹ ì„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤',
    'ì˜¤ëŠ˜ ë‹¹ì‹ ì—ê²Œ ëœ»ë°–ì˜ í–‰ìš´ì´ ì°¾ì•„ì˜µë‹ˆë‹¤',
    'ì‘ì€ ì¹œì ˆì´ í° ê¸°íšŒë¡œ ëŒì•„ì˜¬ ê²ƒì…ë‹ˆë‹¤',
    'ë‹¹ì‹ ì´ ì›í•˜ë˜ ì†Œì‹ì´ ê³§ ë„ì°©í•©ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì€ ëª¨ë“  ì¼ì´ ì˜ í’€ë¦¬ëŠ” ë‚ ì…ë‹ˆë‹¤',
    'ìƒˆë¡œìš´ ê¸°íšŒì˜ ë¬¸ì´ ì—´ë¦½ë‹ˆë‹¤',
    'í–‰ìš´ì€ ë„ì „í•˜ëŠ” ìì˜ í¸ì…ë‹ˆë‹¤',
    'ì˜ˆìƒì¹˜ ëª»í•œ ì¢‹ì€ ì†Œì‹ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤',
    'ì˜¤ëŠ˜ì˜ ì‘ì€ í–‰ë™ì´ í° í–‰ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤',
    'ë‹¹ì‹ ì˜ í•˜ë£¨ê°€ í–‰ìš´ìœ¼ë¡œ ê°€ë“í•  ê²ƒì…ë‹ˆë‹¤',
    'ê¸°ë‹¤ë¦¬ë˜ ì¼ì´ ì´ë£¨ì–´ì§ˆ ì¡°ì§ì…ë‹ˆë‹¤',
  ];

  /// í–‰ìš´ì˜ ìˆ«ì ìƒì„±
  static int _generateLuckyNumber() {
    return _random.nextInt(100) + 1;
  }

  /// í–‰ìš´ì˜ ìƒ‰ìƒ ìƒì„±
  static String _generateLuckyColor() {
    final colors = [
      'ë¹¨ê°•',
      'ì£¼í™©',
      'ë…¸ë‘',
      'ì´ˆë¡',
      'íŒŒë‘',
      'ë‚¨ìƒ‰',
      'ë³´ë¼',
      'ë¶„í™',
      'í°ìƒ‰',
      'ê²€ì •',
      'ê¸ˆìƒ‰',
      'ì€ìƒ‰',
    ];
    return colors[_random.nextInt(colors.length)];
  }

  /// ì¿ í‚¤ íƒ€ì…ë³„ ì´ëª¨ì§€
  static String _getCookieEmoji(String cookieType) {
    switch (cookieType) {
      case 'love':
        return 'ğŸ’•';
      case 'wealth':
        return 'ğŸ’°';
      case 'health':
        return 'ğŸŒ¿';
      case 'wisdom':
        return 'ğŸ”®';
      case 'luck':
      default:
        return 'ğŸ€';
    }
  }
}
