# Celebrity Lists Upload Script

## 개요

이 스크립트는 프로젝트의 JSON 파일에 저장된 연예인 목록을 Supabase 데이터베이스에 업로드합니다.

## 실행 방법

### 1. 환경변수 설정

먼저 Supabase 연결 정보를 환경변수로 설정해야 합니다.

```bash
# 프로젝트 루트 디렉터리에서 실행
flutter run lib/scripts/upload_celebrity_lists.dart \
  --dart-define=SUPABASE_URL=https://your-project.supabase.co \
  --dart-define=SUPABASE_ANON_KEY=your_anon_key
```

### 2. 실행 결과

스크립트는 다음과 같은 작업을 수행합니다:

1. **연결 확인**: Supabase 데이터베이스 연결
2. **기존 데이터 확인**: 이미 업로드된 데이터가 있는지 확인
3. **카테고리별 업로드**: 6개 카테고리의 연예인 목록 업로드
4. **통계 출력**: 업로드 완료 후 전체 및 카테고리별 통계

### 3. 업로드될 데이터

- **가수**: 100명 (솔로, 아이돌, 힙합, 발라드, 트로트 등)
- **배우**: 100명 (영화배우, 드라마배우, 뮤지컬배우 등)
- **스트리머/유튜버**: 100명 (트위치, 아프리카TV, 유튜브 등)
- **정치인**: 50명 (대통령, 국회의원, 시도지사 등)
- **기업인**: 50명 (대기업 CEO, 스타트업 CEO, IT 기업 CEO 등)
- **코미디언/운동선수**: 100명 (개그맨, 축구선수, 야구선수 등)

**총 400명의 연예인/유명인 데이터**

## 데이터베이스 스키마

업로드되는 데이터는 `celebrity_master_list` 테이블에 저장됩니다:

```sql
- id: UUID (기본키)
- name: 이름
- name_en: 영어 이름 (선택적)
- category: 카테고리 코드
- subcategory: 세부 카테고리 (선택적)
- popularity_rank: 인기 순위
- search_volume: 검색량
- last_active: 마지막 활동 연도
- is_crawled: 크롤링 완료 여부 (기본값: false)
- crawl_priority: 크롤링 우선순위
- description: 설명
- keywords: 관련 키워드 배열
- platform: 주요 활동 플랫폼
```

## 에러 대처

### 환경변수 오류
```
❌ SUPABASE_URL과 SUPABASE_ANON_KEY 환경변수를 설정해주세요.
```
→ 실행 명령어에 `--dart-define` 옵션을 추가하세요.

### 네트워크 오류
```
❌ 업로드 중 오류가 발생했습니다
```
→ 인터넷 연결과 Supabase 서비스 상태를 확인하세요.

### 데이터 중복
기존 데이터가 있는 경우 업데이트(upsert) 방식으로 처리됩니다.

## 다음 단계

업로드 완료 후:

1. **크롤링 실행**: 우선순위에 따라 나무위키에서 정보 수집
2. **데이터 검증**: 업로드된 데이터의 정확성 확인
3. **크롤링 모니터링**: 크롤링 진행 상황 추적

## 참고

- 크롤링은 1초 간격으로 진행하여 서버 부하를 방지합니다
- 우선순위는 인기도 + 검색량 + 최근 활동도로 계산됩니다
- 모든 데이터는 한국어 기준으로 작성되었습니다